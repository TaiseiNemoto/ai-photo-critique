# AI課題修正時の必須コンテキスト

## 必須ドキュメント参照
- **開発ルール**: `CLAUDE.md` (コーディングガイドライン・TDD手法)

## 修正時の必須ルール

### ✅ 実装前チェック
- [ ] 課題IDと優先度を確認 (C1/C2/H1等)
- [ ] 関連課題の依存関係をチェック
- [ ] 関連ファイルを事前調査
- [ ] 既存テストを確認・実行
- [ ] **修正計画を立ててユーザーに提示・承認を得る**

### ✅ TDD実装ルール
- [ ] **承認された計画に沿って修正を進める**
- [ ] **Red**: 失敗するテストを先に作成
- [ ] **Green**: 最小限の実装でテスト通過
- [ ] **Refactor**: 品質改善・コード整理
- [ ] 境界値・異常系のテストも追加

### ✅ 修正完了時の確認
- [ ] `npm run test` 全通過
- [ ] `npm run lint` エラーなし
- [ ] `npm run build` 成功
- [ ] 画像アップロード〜講評生成の動作確認
- [ ] 処理時間・メモリ使用量の改善確認

## 修正禁止事項
- 既存UIの大幅変更
- KVストレージ構造の無断変更  
- 外部API仕様の変更
- テスト削除・スキップ
- 型安全性を損なう修正

## 期待する成果物
1. 修正されたソースコード
2. 追加・修正されたテストコード
3. 修正内容の簡潔な説明