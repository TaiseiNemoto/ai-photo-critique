# 企画書

## 1. 背景

- 写真愛好家は SNS でリアクションは得られるが、体系的講評は得にくい。
- Vision API × 大規模言語モデルにより、アップロード直後に**日本語で要点を押さえた講評**を返す環境が整った。

## 2. 目的

アップロード数秒で技術･構図･色彩3軸の点数＋講評を受け取る。
※点数化・ヒートマップはスコープ外（後続リリース）。

## 3. ターゲット

- アマチュア～ハイアマ向け・撮影会／フォトウォーク参加層
- 撮影設定を学びたいカメラエントリ層

## 4. 提供価値

| 軸             | 具体機能                                    | 差別化                             |
| -------------- | ------------------------------------------- | ---------------------------------- |
| **即時講評**   | 技術・構図・色彩をそれぞれ 2–3 行でコメント | 多くのサービスは英語／汎用コメント |
| **シェア容易** | 結果ページを短縮 URL 発行                   | SNS 導入 1 クリック                |

## 5. MVP 機能一覧

| #   | 機能                    | 詳細                                                           |      |
| --- | ----------------------- | -------------------------------------------------------------- | ---- |
| 1   | **画像アップロード UI** | Drag & Drop（PC）／モバイル撮影、1024 px へ自動縮小、EXIF 抽出 |      |
| 2   | **AI 講評 API**         | OpenAI Vision → GPT-4o _function calling_ で講評 JSON 返却     |      |
| 3   | **レポート UI**         | shadcn/ui カード３枚（技術・構図・色彩）＋ EXIF 表示           |      |
| 4   | **シェア URL 発行**     | Vercel KV 短縮リンク、OGP 画像生成                             |      |
| 5   | **認証（β用）**         | GitHub OAuth（NextAuth） ※ゲスト閲覧可                         | \*\* |

## 6. 技術スタック(暫定版)

| レイヤー | 採用技術                                                             |
| -------- | -------------------------------------------------------------------- |
| Front    | **Next.js 15 (App Router, RSC)** / TypeScript / Tailwind / shadcn/ui |
| AI       | **OpenAI Vision + GPT-4o**（講評生成）                               |
| Back     | Server Actions / Vercel KV / PlanetScale（将来データ蓄積）           |
| CI/CD    | GitHub Actions → Vercel Preview / Lighthouse CI                      |
| Auth     | NextAuth (GitHub OAuth)                                              |

## 7. テスト戦略

| レイヤー   | ツール       | 重点                                           |
| ---------- | ------------ | ---------------------------------------------- |
| 単体       | Vitest + RTL | アップロード／EXIF 抽出／状態管理              |
| API モック | MSW          | Vision・GPT 応答を固定 JSON で再現             |
| E2E        | Playwright   | 「アップ → 講評カード表示 → シェア URL」フロー |
| 品質指標   | —            | テストカバレッジ 80 %／画像 1 枚処理 < 3 s     |

## 8. スケジュール(暫定版)

| 週  | マイルストーン                       |
| --- | ------------------------------------ |
| 1   | リポジトリ & CI 基盤／要件リファイン |
| 2–3 | アップロード UI・EXIF 抽出           |
| 4   | AI 講評 API 実装                     |
| 5   | レポート UI 組込み                   |
| 6   | β公開（社内・友人）                  |
| 7   | シェア URL・OGP 生成                 |
| 8   | テスト強化／Lighthouse 90↑           |
| 9   | フィードバック反映・バグ修正         |
| 10  | ポートフォリオ記事執筆・正式リリース |

## 9. リスク & 対策

| リスク         | 対策                                             |
| -------------- | ------------------------------------------------ |
| AI API コスト  | 画像縮小・月額上限設定・呼び出し結果キャッシュ   |
| レスポンス遅延 | Edge Functions + 並列呼び出し                    |
| プライバシー   | 利用規約／画像自動削除(24 h)／顔ぼかしオプション |

## 11. 将来拡張

- **ヒートマップ可視化**（ブレ／彩度）
- **数値スコアリング**（BRISQUE・構図・色彩指標）
- Lightroom / Capture One プラグイン
- LUT / プリセット自動生成
- 多言語対応・フォトコンテスト API

## 12. 体制

- **あなた**：PM / フロント / AI 連携
- 外部協力（任意）：フォトグラファー 2 名でモデルチューニング
